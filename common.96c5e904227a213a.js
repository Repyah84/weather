"use strict";(self.webpackChunkweather=self.webpackChunkweather||[]).push([[592],{379:(O,d,a)=>{a.d(d,{r:()=>W});var g=a(7913),e=a(9291),_=a(6814),p=a(4670),h=a(6671),c=a(7654),y=a(576),u=a(5069),C=a(7185);function f(t,o){1&t&&e._UZ(0,"app-svg-push-pin",13)}const l=function(t,o){return{lat:t,lon:o}};function v(t,o){if(1&t&&(e.TgZ(0,"div",10)(1,"span",11),e._uU(2),e.qZA(),e.YNc(3,f,1,0,"app-svg-push-pin",12),e.ALo(4,"storeHasWeatherCity"),e.qZA()),2&t){const n=o.ngIf;e.xp6(2),e.lnq(" ",n.name," ",n.state," ",n.country," "),e.xp6(1),e.Q6J("ngIf",e.lcZ(4,4,e.WLB(6,l,n.lat,n.lon)))}}function m(t,o){if(1&t&&(e.TgZ(0,"div",14),e._UZ(1,"img",15),e.ALo(2,"weatherIcon"),e.TgZ(3,"span",16),e._uU(4),e.qZA()()),2&t){const n=o.ngIf;e.xp6(1),e.Q6J("src",e.xi3(2,2,n.icon,4),e.LSH),e.xp6(3),e.Oqu(n.description)}}const w=function(t){return["/city",t]};function x(t,o){if(1&t&&(e.TgZ(0,"div",17)(1,"div",18)(2,"div",19)(3,"span"),e._uU(4,"Details"),e.qZA()(),e.TgZ(5,"div")(6,"a",20),e._uU(7," Details more "),e._UZ(8,"app-arrow-right",21),e.qZA()()(),e.TgZ(9,"div",22)(10,"app-weather-description-item",23)(11,"span"),e._uU(12,"Fils like:\xa0"),e.qZA()(),e.TgZ(13,"app-weather-description-item",23)(14,"span"),e._uU(15,"Max Temp:\xa0"),e.qZA()(),e.TgZ(16,"app-weather-description-item",23)(17,"span"),e._uU(18,"Min Temp:\xa0"),e.qZA()(),e.TgZ(19,"app-weather-description-item",23)(20,"span"),e._uU(21,"Wind:\xa0"),e.qZA()(),e.TgZ(22,"app-weather-description-item",23)(23,"span"),e._uU(24,"Humidity:\xa0"),e.qZA()(),e.TgZ(25,"app-weather-description-item",23)(26,"span"),e._uU(27,"Pressure:\xa0"),e.qZA()()()()),2&t){const n=o.ngIf,i=e.oxw();e.xp6(6),e.Q6J("routerLink",e.VKq(7,w,i.coord)),e.xp6(4),e.Q6J("value",n.feels_like),e.xp6(3),e.Q6J("value",n.temp_max),e.xp6(3),e.Q6J("value",n.temp_min),e.xp6(3),e.MGl("value","",i.weather.cityWeather.wind.speed," m/s"),e.xp6(3),e.Q6J("value",n.humidity),e.xp6(3),e.Q6J("value",n.pressure)}}let W=(()=>{var t;class o{get coord(){const{lat:i,lon:r}=this.weather.geocoding;return(0,g.F)({lat:i,lon:r})}}return(t=o).\u0275fac=function(i){return new(i||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-city-weather-card"]],inputs:{weather:"weather"},decls:12,vars:4,consts:[[1,"head"],["class","city-info",4,"ngIf"],[1,"weather-detail"],[1,"city-info-box"],[1,"temperature"],[1,"temperature__value"],[1,"temperature__metric"],["class","weather",4,"ngIf"],[1,"body"],["class","details",4,"ngIf"],[1,"city-info"],[1,"city"],["class","icon-push-pin",4,"ngIf"],[1,"icon-push-pin"],[1,"weather"],["alt","weather",1,"weather-image",3,"src"],[1,"weather-description"],[1,"details"],[1,"details__action"],[1,"details__title"],["queryParamsHandling","merge",1,"link",3,"routerLink"],[1,"icon"],[1,"details-box"],[1,"details__item",3,"value"]],template:function(i,r){1&i&&(e.TgZ(0,"div",0),e.YNc(1,v,5,9,"div",1),e.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"span",5),e._uU(6),e.qZA(),e.TgZ(7,"span",6),e._uU(8,"C"),e.qZA()()(),e.YNc(9,m,5,5,"div",7),e.qZA()(),e.TgZ(10,"div",8),e.YNc(11,x,28,9,"div",9),e.qZA()),2&i&&(e.xp6(1),e.Q6J("ngIf",r.weather.geocoding),e.xp6(5),e.Oqu(r.weather.cityWeather.main.temp),e.xp6(3),e.Q6J("ngIf",r.weather.cityWeather.weather[0]),e.xp6(2),e.Q6J("ngIf",r.weather.cityWeather.main))},dependencies:[_.O5,p.rH,h.f,c.g,y.H,u.S,C.k],styles:[".details__title[_ngcontent-%COMP%], .link[_ngcontent-%COMP%]{color:var(--city-weather-color-primary)}[_nghost-%COMP%]{display:grid;grid-template-rows:1fr auto;padding:10px;border-radius:10px;box-shadow:var(--city-weather-card-elevation-x);background:linear-gradient(#ffffff 40%,#e9eefa)}.head[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;overflow:hidden}.weather-detail[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;flex:1}.city[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.city-info-box[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between}.city-info[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:5px;font-weight:700;font-size:18px;overflow:hidden}.icon-push-pin[_ngcontent-%COMP%]{width:20px;height:20px;color:var(--city-weather-color-primary)}.temperature[_ngcontent-%COMP%]{display:flex;column-gap:10px;font-size:55px}.temperature__value[_ngcontent-%COMP%]{font-weight:700}.weather[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.weather-image[_ngcontent-%COMP%]{display:block;width:100px;height:100px;object-fit:cover}.weather-description[_ngcontent-%COMP%]{max-width:100px;font-size:14px;text-align:right;font-weight:700}.details__action[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:10px;box-shadow:0 1px 0 0 var(--city-weather-color-secondary);font-weight:700}.details__item[_ngcontent-%COMP%]{font-size:12px;padding:5px;box-shadow:0 0 2px 1px var(--city-weather-color-primary);border-radius:10px}.details-box[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:10px}.link[_ngcontent-%COMP%]{display:inline-flex;align-items:center;white-space:nowrap;line-height:14px}.icon[_ngcontent-%COMP%]{width:30px;height:30px;flex-shrink:0}.details__title[_ngcontent-%COMP%]{display:flex;align-items:center}"],changeDetection:0}),o})()},2762:(O,d,a)=>{a.d(d,{E:()=>W});const g=["Hong Kong","New York","Paris","Berlin","Kyiv"];var e=a(4664),_=a(2096),p=a(9315),h=a(7398),c=a(9291),y=a(2539),u=a(8036),C=a(1372),f=a(6798),l=a(9862),v=a(1527),m=a(5608);let w=(()=>{var t;class o{constructor(i){this._http=i}getCityWeather({lat:i,lon:r}){const s=(new l.LE).appendAll({appid:v.$,lat:i,lon:r,units:"metric"});return this._http.get(`${m.v}/data/2.5/weather`,{params:s})}}return(t=o).\u0275fac=function(i){return new(i||t)(c.LFG(l.eN))},t.\u0275prov=c.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),o})(),x=(()=>{var t;class o{constructor(i,r){this._dataCache=i,this._cityWeather=r}getCityWeatherCache(i){return this._dataCache.getCachedData({key:(0,C.X)("CITY_WEATHER",i),cachingObservable:()=>this._cityWeather.getCityWeather(i),cacheTime:u.o})}}return(t=o).\u0275fac=function(i){return new(i||t)(c.LFG(f.w),c.LFG(w))},t.\u0275prov=c.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),o})(),W=(()=>{var t;class o{constructor(i,r){this._geocoding=i,this._cityWeather=r}getCityWeatherListByName(i){return this._geocoding.getCityGeocodingCache(i).pipe((0,e.w)(r=>0===r.length?(0,_.of)(null):this._getCityWeatherListFull(r)))}getCityWeatherListByCoord(i){const r=i.map(s=>(0,p.D)({geocoding:this._geocoding.getCityGeocodingReverseCache(s).pipe((0,h.U)(([M])=>M)),cityWeather:this._cityWeather.getCityWeatherCache(s)}));return(0,p.D)([...r])}getDefaultCityList(){const i=g.map(r=>this._geocoding.getCityGeocodingCache(r).pipe((0,h.U)(([s])=>s)));return(0,p.D)([...i]).pipe((0,e.w)(r=>this._getCityWeatherListFull(r)))}_getCityWeatherListFull(i){const r=i.map(s=>this._cityWeather.getCityWeatherCache({lat:s.lat,lon:s.lon}).pipe((0,h.U)(P=>({geocoding:s,cityWeather:P}))));return(0,p.D)([...r])}}return(t=o).\u0275fac=function(i){return new(i||t)(c.LFG(y.q),c.LFG(x))},t.\u0275prov=c.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),o})()}}]);